

%Fortran and C specific parts are coloured
\newcommand{\fortonly}[1]{\textcolor{textblue}{#1}}
\newcommand{\conly}[1]{\textcolor{warwickred}{#1}}

%Presenter/typesetter notes. Defaults to swallowing, swap to other to leave unchanged
\newcommand{\presnote}[1]{}
%\newcommand{\presnote}[1]{#1}

\newcommand{\aside}[1]{\emph{#1}}

%Extra emphasis
\newcommand{\superemph}[1]{\textcolor{red}{\emph{#1}}}

%Shaded aside boxes
\usepackage[breakable]{tcolorbox}
\newenvironment{asidebox}[1]{
	\begin{tcolorbox}[width=0.95\textwidth,colback={grey}, breakable, title=#1]}
{\end{tcolorbox}   
}

\lstdefinelanguage{pseudo}
{
morekeywords={FUNCTION, MODULE, BEGIN, END, PRINT, FOR, DO, IF, ELSE, THEN, RETURN, ASSERT, AND, OR},
morekeywords=[2]{MAIN, INTEGER, ARRAY,REAL, FLAG, STRING},
morekeywords=[3]{OPENW, OPENR, CLOSE, WRITE},
sensitive=true,
morecomment=[l]{//}
}
%Dummy docs language to get nice formatting and colours easily
\lstdefinelanguage{docs}
{
morekeywords={int, char, const, double, class, flag},
morekeywords=[2]{Parameters, Returns},
sensitive=true,
morecomment=[l]{\#}
}
\lstdefinelanguage{make}
{
morekeywords={target},
morekeywords=[2]{prerequisites},
morekeywords=[3]{recipe},
sensitive=false,
morecomment=[l]{\#}
}
\lstdefinelanguage{debug}
{
morekeywords={break, print, run, continue, if, delete, clear, quit},
morekeywords=[2]{gdb},
sensitive=true,
morecomment=[l]{\#}
}


\lstdefinestyle{pseudostyle}{
    language=pseudo,
    tabsize=3,
    frame=shadowbox,
    rulesepcolor=\color{gray},
    commentstyle=\color{codegreen},
    keywordstyle=\color{textblue}\bf,
    keywordstyle=[2]\color{textpurple}\bf,
    keywordstyle=[3]\color{warwickred}\bf,
    stringstyle=\color{warwickred},
    numbers=left,
    numberstyle=\tiny,
    numbersep=5pt,
    breaklines=true,
    showstringspaces=false,
    basicstyle=\footnotesize
    %emph={str},emphstyle={\color{magenta}}
  } 
\lstdefinestyle{docstyle}{
    language=docs,
    tabsize=3,
    frame=shadowbox,
    rulesepcolor=\color{gray},
    commentstyle=\color{codegreen},
    keywordstyle=\color{textblue}\bf,
    keywordstyle=[2]\color{textpurple}\bf,
    keywordstyle=[3]\color{warwickred}\bf,
    stringstyle=\color{warwickred},
    numbers=left,
    numberstyle=\tiny,
    numbersep=5pt,
    breaklines=true,
    showstringspaces=false,
    basicstyle=\footnotesize
  } 
\lstdefinestyle{debugstyle}{
    language=debug,
    tabsize=3,
    frame=shadowbox,
    rulesepcolor=\color{gray},
    commentstyle=\color{codegreen},
    keywordstyle=\color{textblue}\bf,
    keywordstyle=[2]\color{textpurple}\bf,
    stringstyle=\color{warwickred},
    numbers=left,
    numberstyle=\tiny,
    numbersep=5pt,
    breaklines=true,
    showstringspaces=false,
    basicstyle=\footnotesize
    %emph={str},emphstyle={\color{magenta}}
  } 

\lstdefinestyle{makestyle}{
    language=make,
    tabsize=3,
    frame=shadowbox,
    rulesepcolor=\color{gray},
    commentstyle=\color{codegreen},
    keywordstyle=\color{textblue}\bf,
    keywordstyle=[2]\color{textpurple}\bf,
    keywordstyle=[3]\color{warwickred}\bf,
    stringstyle=\color{warwickred},
    numbers=left,
    numberstyle=\tiny,
    numbersep=5pt,
    breaklines=true,
    showstringspaces=false,
    basicstyle=\footnotesize
    %emph={str},emphstyle={\color{magenta}}
  } 

\lstdefinestyle{nostyle}{
    tabsize=3,
    frame=shadowbox,
    rulesepcolor=\color{gray},
    commentstyle=\color{codegreen},
    keywordstyle=\color{textblue}\bf,
    keywordstyle=[2]\color{textpurple}\bf,
    stringstyle=\color{warwickred},
    numbers=left,
    numberstyle=\tiny,
    numbersep=5pt,
    breaklines=true,
    showstringspaces=false,
    basicstyle=\footnotesize
  } 

\lstdefinestyle{pystyle}{
    language=python,
    tabsize=3,
    frame=shadowbox,
    rulesepcolor=\color{gray},
    commentstyle=\color{codegreen},
    keywordstyle=\color{textblue}\bf,
    stringstyle=\color{warwickred},
    numbers=left,
    numberstyle=\tiny,
    numbersep=5pt,
    breaklines=true,
    showstringspaces=false,
    basicstyle=\footnotesize
  } 
\lstdefinestyle{forstyle}{
    language=fortran,
    tabsize=3,
    frame=shadowbox,
    rulesepcolor=\color{gray},
    commentstyle=\color{codegreen},
    keywordstyle=\color{textblue}\bf,
    stringstyle=\color{warwickred},
    numbers=left,
    numberstyle=\tiny,
    numbersep=5pt,
    breaklines=true,
    showstringspaces=false,
    basicstyle=\footnotesize
  } 
\lstdefinestyle{cstyle}{
    language=c,
    tabsize=3,
    frame=shadowbox,
    rulesepcolor=\color{gray},
    commentstyle=\color{codegreen},
    keywordstyle=\color{textblue}\bf,
    stringstyle=\color{warwickred}\bf,
    numbers=left,
    numberstyle=\tiny,
    numbersep=5pt,
    breaklines=true,
    showstringspaces=false,
    basicstyle=\footnotesize
  } 
